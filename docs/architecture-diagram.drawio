<mxfile host="app.diagrams.net" modified="2026-02-02T04:00:00.000Z" agent="Claude" version="21.0.0">
  <diagram id="ai-receptionist-architecture" name="AI Receptionist Architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="AI RECEPTIONIST - SYSTEM ARCHITECTURE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1a1a2e;" vertex="1" parent="1">
          <mxGeometry x="500" y="20" width="600" height="40" as="geometry" />
        </mxCell>

        <!-- CLIENT LAYER -->
        <mxCell id="client-group" value="CLIENT LAYER" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="80" width="1520" height="100" as="geometry" />
        </mxCell>

        <mxCell id="web-client" value="Web App&#xa;(React/Next.js)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="client-group">
          <mxGeometry x="80" y="25" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="mobile-client" value="Mobile App&#xa;(iOS/Android)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="client-group">
          <mxGeometry x="240" y="25" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="sms-client" value="SMS&#xa;(Twilio)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="client-group">
          <mxGeometry x="400" y="25" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="voice-client" value="Voice&#xa;(Phone IVR)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="client-group">
          <mxGeometry x="560" y="25" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="postman" value="API Testing&#xa;(Postman)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="client-group">
          <mxGeometry x="720" y="25" width="120" height="50" as="geometry" />
        </mxCell>

        <!-- API GATEWAY LAYER -->
        <mxCell id="api-group" value="API GATEWAY" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="200" width="1520" height="140" as="geometry" />
        </mxCell>

        <mxCell id="fastapi" value="FastAPI&#xa;Application&#xa;(Uvicorn)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1a73e8;strokeColor=#0d47a1;fontColor=#ffffff;fontSize=12;fontStyle=1;" vertex="1" parent="api-group">
          <mxGeometry x="80" y="30" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="auth-middleware" value="Auth Middleware&#xa;- API Key Validation&#xa;- SHA-256 Hashing&#xa;- ClinicContext" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;" vertex="1" parent="api-group">
          <mxGeometry x="260" y="30" width="150" height="80" as="geometry" />
        </mxCell>

        <mxCell id="rate-limiter" value="Rate Limiter&#xa;- Sliding Window&#xa;- Per-Clinic Limits&#xa;- Redis Backed" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;" vertex="1" parent="api-group">
          <mxGeometry x="440" y="30" width="150" height="80" as="geometry" />
        </mxCell>

        <mxCell id="cors" value="CORS&#xa;Middleware" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;" vertex="1" parent="api-group">
          <mxGeometry x="620" y="30" width="100" height="80" as="geometry" />
        </mxCell>

        <mxCell id="routes" value="API Routes&#xa;&#xa;POST /api/v1/chat&#xa;GET /health&#xa;POST /webhooks/*" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;align=left;spacingLeft=10;" vertex="1" parent="api-group">
          <mxGeometry x="760" y="30" width="160" height="80" as="geometry" />
        </mxCell>

        <!-- SAFETY LAYER -->
        <mxCell id="safety-group" value="SAFETY &amp; COMPLIANCE LAYER" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#cc0000;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="360" width="1520" height="140" as="geometry" />
        </mxCell>

        <mxCell id="safety-pipeline" value="Safety Pipeline&#xa;Orchestrator&#xa;(pipeline.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ea4335;strokeColor=#990000;fontColor=#ffffff;fontSize=12;fontStyle=1;" vertex="1" parent="safety-group">
          <mxGeometry x="80" y="30" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="sanitizer" value="Input&#xa;Sanitizer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#cc6666;fontSize=11;" vertex="1" parent="safety-group">
          <mxGeometry x="260" y="30" width="100" height="80" as="geometry" />
        </mxCell>

        <mxCell id="pii-detector" value="PII Detector&#xa;(Presidio)&#xa;&#xa;SSN, CC, Email&#xa;Phone, Names" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#cc6666;fontSize=10;" vertex="1" parent="safety-group">
          <mxGeometry x="380" y="30" width="120" height="80" as="geometry" />
        </mxCell>

        <mxCell id="crisis-detector" value="Crisis Detector&#xa;&#xa;Suicide/Self-harm&#xa;Emergency Escalation&#xa;988 Hotline" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#cc6666;fontSize=10;" vertex="1" parent="safety-group">
          <mxGeometry x="520" y="30" width="130" height="80" as="geometry" />
        </mxCell>

        <mxCell id="content-filter" value="Content Filter&#xa;&#xa;Prompt Injection&#xa;Medical Advice&#xa;Inappropriate" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#cc6666;fontSize=10;" vertex="1" parent="safety-group">
          <mxGeometry x="670" y="30" width="120" height="80" as="geometry" />
        </mxCell>

        <mxCell id="consent-mgr" value="Consent&#xa;Manager&#xa;(HIPAA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#cc6666;fontSize=11;" vertex="1" parent="safety-group">
          <mxGeometry x="810" y="30" width="100" height="80" as="geometry" />
        </mxCell>

        <mxCell id="audit-logger" value="Audit Logger&#xa;&#xa;Immutable Trail&#xa;All Actions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#cc6666;fontSize=10;" vertex="1" parent="safety-group">
          <mxGeometry x="930" y="30" width="110" height="80" as="geometry" />
        </mxCell>

        <!-- INTELLIGENCE LAYER -->
        <mxCell id="intel-group" value="INTELLIGENCE LAYER (Claude AI)" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#d4edda;strokeColor=#28a745;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="520" width="1520" height="140" as="geometry" />
        </mxCell>

        <mxCell id="intent-classifier" value="Intent Classifier&#xa;&#xa;Claude 3.5 Haiku&#xa;↓&#xa;Sonnet Fallback" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34a853;strokeColor=#1e7e34;fontColor=#ffffff;fontSize=11;" vertex="1" parent="intel-group">
          <mxGeometry x="80" y="25" width="150" height="90" as="geometry" />
        </mxCell>

        <mxCell id="intents-box" value="Intents:&#xa;SCHEDULING&#xa;CANCELLATION&#xa;RESCHEDULE&#xa;CONFIRMATION&#xa;HANDOFF&#xa;GREETING" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f0fff0;strokeColor=#28a745;fontSize=9;align=left;spacingLeft=5;" vertex="1" parent="intel-group">
          <mxGeometry x="250" y="15" width="100" height="110" as="geometry" />
        </mxCell>

        <mxCell id="slot-extractor" value="Slot Extractor&#xa;&#xa;Claude 3.5 Haiku&#xa;Entity Extraction" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34a853;strokeColor=#1e7e34;fontColor=#ffffff;fontSize=11;" vertex="1" parent="intel-group">
          <mxGeometry x="380" y="25" width="150" height="90" as="geometry" />
        </mxCell>

        <mxCell id="slots-box" value="Slots:&#xa;Provider Name&#xa;Date &amp; Time&#xa;Reason&#xa;Patient Info&#xa;Flexibility" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f0fff0;strokeColor=#28a745;fontSize=9;align=left;spacingLeft=5;" vertex="1" parent="intel-group">
          <mxGeometry x="550" y="15" width="100" height="110" as="geometry" />
        </mxCell>

        <mxCell id="session-mgr" value="Session Manager&#xa;&#xa;- Load/Save Sessions&#xa;- Merge Slots&#xa;- History (10 turns)&#xa;- TTL: 30 min" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34a853;strokeColor=#1e7e34;fontColor=#ffffff;fontSize=10;" vertex="1" parent="intel-group">
          <mxGeometry x="680" y="25" width="140" height="90" as="geometry" />
        </mxCell>

        <mxCell id="state-machine" value="State Machine&#xa;&#xa;IDLE → COLLECT_*&#xa;→ SEARCHING&#xa;→ SHOWING_SLOTS&#xa;→ CONFIRM_BOOKING&#xa;→ BOOKED" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34a853;strokeColor=#1e7e34;fontColor=#ffffff;fontSize=9;" vertex="1" parent="intel-group">
          <mxGeometry x="850" y="20" width="130" height="100" as="geometry" />
        </mxCell>

        <!-- SCHEDULING ENGINE -->
        <mxCell id="engine-group" value="SCHEDULING ENGINE" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#004085;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="680" width="1520" height="140" as="geometry" />
        </mxCell>

        <mxCell id="engine-core" value="Scheduling Engine&#xa;(Orchestrator)&#xa;&#xa;engine.py" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0d6efd;strokeColor=#004085;fontColor=#ffffff;fontSize=12;fontStyle=1;" vertex="1" parent="engine-group">
          <mxGeometry x="80" y="30" width="150" height="80" as="geometry" />
        </mxCell>

        <mxCell id="flow-mgr" value="Flow Manager&#xa;&#xa;- Determine Next State&#xa;- Action Decision&#xa;- Missing Fields" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#6699cc;fontSize=10;" vertex="1" parent="engine-group">
          <mxGeometry x="270" y="30" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="calendar-client" value="Calendar Agent&#xa;Client&#xa;&#xa;HTTP → Microservice" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#6699cc;fontSize=10;" vertex="1" parent="engine-group">
          <mxGeometry x="440" y="30" width="130" height="80" as="geometry" />
        </mxCell>

        <mxCell id="response-gen" value="Response Generator&#xa;&#xa;Claude API&#xa;+ Template Fallback" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#6699cc;fontSize=10;" vertex="1" parent="engine-group">
          <mxGeometry x="600" y="30" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="handoff" value="Human Handoff&#xa;&#xa;Escalation Logic&#xa;Staff Routing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#6699cc;fontSize=10;" vertex="1" parent="engine-group">
          <mxGeometry x="770" y="30" width="120" height="80" as="geometry" />
        </mxCell>

        <!-- DATA LAYER -->
        <mxCell id="data-group" value="DATA &amp; INFRASTRUCTURE LAYER" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="840" width="1520" height="160" as="geometry" />
        </mxCell>

        <mxCell id="postgresql" value="PostgreSQL 16&#xa;&#xa;Clinics&#xa;Providers&#xa;Patients&#xa;Appointments&#xa;Sessions&#xa;AuditLogs" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#336791;strokeColor=#1a3a5c;fontColor=#ffffff;fontSize=10;" vertex="1" parent="data-group">
          <mxGeometry x="80" y="20" width="130" height="120" as="geometry" />
        </mxCell>

        <mxCell id="redis" value="Redis 7&#xa;&#xa;Sessions&#xa;Auth Cache&#xa;Rate Limits" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dc382d;strokeColor=#8b0000;fontColor=#ffffff;fontSize=10;" vertex="1" parent="data-group">
          <mxGeometry x="250" y="30" width="110" height="100" as="geometry" />
        </mxCell>

        <mxCell id="claude-api" value="Claude API&#xa;(Anthropic)&#xa;&#xa;Haiku: Intent&#xa;Sonnet: Fallback" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4a574;strokeColor=#8b6914;fontColor=#ffffff;fontSize=10;" vertex="1" parent="data-group">
          <mxGeometry x="400" y="35" width="120" height="90" as="geometry" />
        </mxCell>

        <mxCell id="calendar-agent" value="Calendar Agent&#xa;(Microservice)&#xa;&#xa;/api/providers&#xa;/api/slots/find&#xa;/api/bookings" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9c27b0;strokeColor=#6a1b9a;fontColor=#ffffff;fontSize=10;" vertex="1" parent="data-group">
          <mxGeometry x="560" y="30" width="130" height="100" as="geometry" />
        </mxCell>

        <mxCell id="ehr-systems" value="EHR Systems&#xa;&#xa;DrChrono&#xa;Epic&#xa;Cerner&#xa;Google Cal" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#ff9800;strokeColor=#e65100;fontColor=#ffffff;fontSize=10;" vertex="1" parent="data-group">
          <mxGeometry x="730" y="35" width="130" height="90" as="geometry" />
        </mxCell>

        <mxCell id="twilio" value="Twilio&#xa;SMS/Voice" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f22f46;strokeColor=#c41e3a;fontColor=#ffffff;fontSize=11;" vertex="1" parent="data-group">
          <mxGeometry x="900" y="50" width="100" height="60" as="geometry" />
        </mxCell>

        <!-- DEPLOYMENT -->
        <mxCell id="deploy-group" value="DEPLOYMENT (Railway)" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#e8daef;strokeColor=#8e44ad;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="1020" width="1520" height="100" as="geometry" />
        </mxCell>

        <mxCell id="docker" value="Docker Container&#xa;(Multi-stage Build)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2496ed;strokeColor=#1a6fb2;fontColor=#ffffff;fontSize=11;" vertex="1" parent="deploy-group">
          <mxGeometry x="80" y="25" width="150" height="50" as="geometry" />
        </mxCell>

        <mxCell id="railway" value="Railway Platform&#xa;Auto-deploy from GitHub" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#8e44ad;strokeColor=#6c3483;fontColor=#ffffff;fontSize=11;" vertex="1" parent="deploy-group">
          <mxGeometry x="270" y="25" width="160" height="50" as="geometry" />
        </mxCell>

        <mxCell id="health-check" value="Health Checks&#xa;/health, /health/ready" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#27ae60;strokeColor=#1e8449;fontColor=#ffffff;fontSize=11;" vertex="1" parent="deploy-group">
          <mxGeometry x="470" y="25" width="150" height="50" as="geometry" />
        </mxCell>

        <mxCell id="env-vars" value="Environment Vars&#xa;DATABASE_URL, REDIS_URL&#xa;ANTHROPIC_API_KEY" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#95a5a6;strokeColor=#7f8c8d;fontColor=#ffffff;fontSize=10;" vertex="1" parent="deploy-group">
          <mxGeometry x="660" y="20" width="170" height="60" as="geometry" />
        </mxCell>

        <!-- ARROWS - Main Flow -->
        <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#333333;" edge="1" parent="1" source="web-client" target="fastapi">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#333333;" edge="1" parent="1" source="fastapi" target="auth-middleware">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#333333;" edge="1" parent="1" source="auth-middleware" target="rate-limiter">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#333333;" edge="1" parent="1" source="rate-limiter" target="routes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#cc0000;" edge="1" parent="1" source="routes" target="safety-pipeline">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#28a745;" edge="1" parent="1" source="safety-pipeline" target="intent-classifier">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#0d6efd;" edge="1" parent="1" source="session-mgr" target="engine-core">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Data connections -->
        <mxCell id="data-arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#666666;dashed=1;" edge="1" parent="1" source="engine-core" target="postgresql">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="data-arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#666666;dashed=1;" edge="1" parent="1" source="session-mgr" target="redis">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="data-arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#d4a574;dashed=1;" edge="1" parent="1" source="intent-classifier" target="claude-api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="data-arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#9c27b0;dashed=1;" edge="1" parent="1" source="calendar-client" target="calendar-agent">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend" value="LEGEND" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1100" y="80" width="450" height="100" as="geometry" />
        </mxCell>

        <mxCell id="leg1" value="Data Flow" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#333333;" edge="1" parent="legend">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="20" y="40" as="sourcePoint" />
            <mxPoint x="80" y="40" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg1-label" value="Request Flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="legend">
          <mxGeometry x="90" y="30" width="80" height="20" as="geometry" />
        </mxCell>

        <mxCell id="leg2" value="" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#666666;dashed=1;" edge="1" parent="legend">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="20" y="70" as="sourcePoint" />
            <mxPoint x="80" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg2-label" value="Data Connection" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="legend">
          <mxGeometry x="90" y="60" width="90" height="20" as="geometry" />
        </mxCell>

        <mxCell id="leg3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#cc0000;" vertex="1" parent="legend">
          <mxGeometry x="200" y="35" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="leg3-label" value="Safety/Security" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="legend">
          <mxGeometry x="225" y="35" width="80" height="20" as="geometry" />
        </mxCell>

        <mxCell id="leg4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4edda;strokeColor=#28a745;" vertex="1" parent="legend">
          <mxGeometry x="200" y="60" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="leg4-label" value="AI/Intelligence" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="legend">
          <mxGeometry x="225" y="60" width="80" height="20" as="geometry" />
        </mxCell>

        <mxCell id="leg5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#004085;" vertex="1" parent="legend">
          <mxGeometry x="320" y="35" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="leg5-label" value="Core Engine" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="legend">
          <mxGeometry x="345" y="35" width="80" height="20" as="geometry" />
        </mxCell>

        <mxCell id="leg6" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;fillColor=#336791;strokeColor=#1a3a5c;" vertex="1" parent="legend">
          <mxGeometry x="320" y="55" width="20" height="25" as="geometry" />
        </mxCell>
        <mxCell id="leg6-label" value="Database" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="legend">
          <mxGeometry x="345" y="60" width="80" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
